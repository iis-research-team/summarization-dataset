Введение

Одной из актуальных задач в области использования информационных технологий для гуманитарных исследований является создание программного приложения для автоматизации комплексного анализа поэтических текстов, призванного облегчить труд филологов.
Комплекс таких разработок ведется в Институте вычислительных технологий (ИВТ) СО РАН, концепция создаваемой информационной системы изложена в работах [1; 2].
Среди аналогичных исследований других авторов следует назвать, прежде всего, статью, в которой была намечена большая программа исследований метрических, ритмических и фонетических (включая рифму) характеристик русских поэтических текстов. Эта программа опиралась, в свою очередь, на систему STARLING, которая являлась частью проекта «Автоматизированный лингвостиховедческий анализ русских поэтических текстов» (после ухода из жизни руководителя проекта С. А. Старостина работы в этом направлении были прекращены). Именно на основе названных исследований нами реализовано действующее в настоящее время программное средство анализа метроритмических характеристик поэтических текстов, описанное в работе [2]. Однако алгоритм из работы [3] носит полуэмпирический характер, что снижает его точность в случаях сложной акцентуации, поэтому для дальнейших исследований нами реализуется более строго обоснованный алгоритм из статьи [4], модифицируемый с учетом неоднозначной акцентуации текстов на русском языке.
Больших успехов достиг коллектив авторов под руководством И. А. Пильщикова и А. С. Старостина: начиная с 2008 г. выполнен ряд работ, посвященный автоматическому распознаванию метра в силлабо-тонических стихах. В 2016 г. в устном докладе «Инструментальная среда для работы с русскоязычными стихотворными корпусами и их специализированной разметкой» продемонстрирована инструментальная компьютерная среда РМС («Рабочее место стиховеда»); описана возможность эвристической акцентуации несловарных слов, создание интерфейса редактора шаблонов, визуализация результатов автоматического анализа метрики и ритмики стиха. Однако нам неизвестны работы, в которых авторы проводили исследование автоматизации анализа характеристик более высокого уровня (например, определение жанра).
Так как задачи анализа фонетических и лексических характеристик текста менее специфичны и решаются намного чаще, чем характерная именно для поэтических текстов задача анализа метроритмических характеристик, то для решения этих задач нами используются более или менее стандартные алгоритмы, изложенные в статье.
Наконец, для определения стилей и жанровых характеристик текстов используются наиболее известные приемы ансамблирования базовых алгоритмов в композиции, такие как взвешенное голосование, бустинг и стекинг (аналогичные подходы используются для других текстов в [9; 10]).
Рассмотрим некоторые из существующих информационных систем, предназначенных для исследования тех или иных характеристик поэтических текстов: проект «Конкорданс к текстам Ломоносова», система SPARSAR, веб-приложение Metricalizer.
Проект «Конкорданс к текстам Ломоносова» начат в 2009 г. и строится на основе корпуса авторских текстов, снабженных структурной, филологической и грамматической разметкой. Проект доступен через веб-интерфейс и представляет собой как алфавитно-частотный конкорданс к текстам, так и сборник изданий текстов Ломоносова. Технологическая цепочка работы с корпусом включает в себя немалую долю ручной разметки корпуса и сегментации текста; с помощью парсера выполняется морфологический разбор с последующей постобработкой (снятие омонимии, исправление ошибок). Практическая реализация упрощала взаимодействие с созданным конкордансом – пользователь может в интерактивном режиме выбрать подходящий термин для работы с ним. Проект не был завершен авторами.
Описанная в работе Р. Дельмонте система SPARSAR предполагает автоматический комплексный анализ поэтических текстов с целью изучения их стиля. SPARSAR выполняет анализ каждого стихотворения на разных уровнях: на уровне предложения, на уровне строки и на уровне строфы. Такая информационная система была бы полезна авторам статьи, однако детальное описание внутренней структуры уделяется модулю, связанному с автоматическим чтением текста (TextToSpeech).
Веб-приложение Metricalizer, разработанное К. Боббенхаузеном и Б. Хаммерихом, позволяет производить автоматический анализ метрических характеристик немецких стихов. В системе предусмотрены метрический анализ стихотворения, создание XML-документов по результатам проводимого анализа, разбор текстов по акцентуации и рифмовке, фонетический разбор слов в формате X-SAMPA (Extended Speech Assessment Methods Phonetic Alphabet, «расширенный фонетический алфавит методов оценки речи»). Упомянутая система наиболее релевантно соотносится со структурой, которую можно применить для информационной системы в ИВТ СО РАН, однако в работе [13] детальная структура системы Metricalizer не представлена.
Разнообразие алгоритмов обработки поэтических текстов, несомненно, является важным фактором успешного решения описываемой задачи. Однако во многих случаях остается актуальным вопрос реализации алгоритма в виде отчуждаемого программного продукта и его использование без непосредственного участия авторов. В силу этого программное приложение должно представлять собой некую информационную подсистему со специфическими входными и выходными данными. Важно настроить взаимодействие подсистемы как с конечным пользователем, так и с другими подсистемами.
Таким образом, необходимо разработать подход к проектированию и реализации системы анализа поэтических текстов, учитывающий ее сложную модульную структуру. Цель данной статьи заключается в описании процесса проектирования информационной системы автоматизации комплексного анализа поэтических текстов.

Постановка задачи

Процесс анализа поэтических текстов сводится к следующим последовательным шагам (рис. 1), на которых осуществляется анализ характеристик текста:
 инициализация – формирование корпуса поэтических текстов и его предобработка для последующего анализа;
 структурный анализ – определение низкоуровневых характеристик поэтического текста (фонетика и метроритмика стихотворения);
 семантический анализ – определение смысловых конструкций с учетом поэтической синонимии;
 прагматический анализ – экспертная оценка принадлежности к определенным стилевым характеристикам для поэтического текста (жанр, стиль и др.);
 синтез проведенных исследований – определение влияния низших уровней поэтических текстов на более высокие, а также объединение результатов в удобном для восприятия и поиска виде. Концептуальное проектирование включало в себя формирование возможностей создаваемой информационной системы. Создаваемая система должна обладать следующими возможностями.
1. Обеспечение доступа к корпусам поэтических текстов. При этом к текстам могут предъявляться дополнительные требования. Например, в процессе обработки важно учитывать особенности старой (времени создания текста) орфографии.
2. Автоматизированная обработка корпуса поэтических текстов, хранящихся в БД:
а) определение фонетических характеристик текста;
б) исследование метроритмических характеристик: метрика, стопность; рифмовка строфики и др. с указанием неоднозначностей, которые не могут быть разрешены автоматически,
в) определение лексических характеристик текста;
г) определение жанрово-стилевых характеристик текста.
3. Занесение полученных характеристик в хранилище (базу данных).
4. Статистическая обработка полученных характеристик и их представление в удобном для исследователя виде.
5. Возможность импорта корпусов поэтических текстов из баз данных и файлов и их экспорта в другие информационные системы для дальнейшей автоматизированной обработки.
Алгоритмы, реализуемые при прохождении перечисленных выше этапов анализа (структурного, семантического, прагматического), изложены в работах авторов под руководством В. Б. Барахнина. Однако остается актуальной задача синтеза проводимых исследований в пределах общей информационной системы, пригодной для использования экспертами-филологами. В рамках текущего исследования все подсистемы проекта будут рассматриваться в виде «черного ящика» – ведущую роль играют данные, подаваемые на вход и получаемые на выходе. В качестве базового инструмента проектирования на начальном этапе использовались интеллект-карта и диаграмма прецедентов. На рис. 2 процесс анализа поэтических текстов представлен в нотации IDEF0. Выделяются следующие бизнес-процессы верхнего уровня.
1. Предобработка текста (процесс А1): на вход поступает необработанный текст (возможно, в дореформенной орфографии) с информацией об этом тексте. Под управлением правил формирования дореволюционной и современной орфографии происходит преобразование текста в соответствии с современной орфографией с занесением результатов в систему хранения. Дальнейшая обработка текста осуществляется в современной орфографии.
2. Структурный анализ (процесс А2): на основании формализованных правил построения метра и ритма поэтического текста выполняется извлечение его структурных характеристик: тип рифмы, количество женских и мужских окончаний и др.
3. Семантический анализ (процесс А3): на основании формализованных правил построения словосочетаний выполняется извлечение синтаксических конструкций из поэтического текста и их идентификация с использованием базового словаря, учитывающего синонимию.
4. Прагматический анализ (процесс А4): с использованием системы классификации жанров и стилей на выходе формируется гипотеза о принадлежности поэтического текста к определенному жанру и стилю.
Информационная система (ИС) должна учитывать этапы анализа поэтических текстов.
Структура системы состоит из компонентов, перечисленных при описании постановки задачи. Связи в структуре показаны на рис. 3. Компонент фонетического анализа включен в систему как готовый модуль, ранее разработанный в ИВТ СО РАН, он осуществляет акцентуацию (расстановку ударений) и транскрипцию слов. Включенные в модуль элементы метроритмики используют входные данные, получаемые на этапе структурного анализа.
Учет вхождений слов и словосочетаний в те или иные поэтические тексты связан с задачей составления частотных справочников и конкордансов. При прагматическом анализе определяются жанр и стиль произведения. Компоненты пользовательского интерфейса представляют собой ключевые возможности по работе с системой: просмотр характеристик и сравнение поэтических текстов по ним, а также поиск произведений.
Технические требования, предъявляемые к разрабатываемой ИС, отражены в таблице (см. далее). Для каждого требования выставлен приоритет его выполнения:
 высокий – выполнение таких требований необходимо;
 средний – выполнение таких требований желательно;
 низкий – выполнение таких требований необязательно. На рис. 4 представлена диаграмма прецедентов. Система проектируется с учетом того, что в процессе работы она будет использоваться различными категориями пользователей и взаимодействовать с другими системами. В качестве акторов были выбраны:
 пользователь – филолог, проводящий исследование поэтических текстов;
 программист-исследователь – лицо, ответственное за наиболее полную реализацию функционала и бесперебойную работу системы, а также за математическую обработку результатов;
 администратор системы – лицо, ответственное за использование особых технических средств, добавление нового контента, актуализацию данных и т. п.;
 внешняя система – та или иная подсистема проекта по автоматизации анализа поэтических текстов, упомянутая ранее; экспортирует результаты проведенных исследований в разрабатываемую систему для комплексного отображения результатов.
Роли программиста-исследователя и пользователя могут быть объединены в зависимости от специфики выполняемой филологической задачи. Кроме того, пользователь, как эксперт, может проводить оценку данных, выводимых системой, и в случае возникновения спорных моментов выполнить редактирование данных в ИС. Все действия в системе должны протоколироваться администратором – например, при импорте данных от подсистем проекта могут возникнуть непредвиденные технические проблемы, которые необходимо устранить вручную.
Далее приведем некоторый сценарий взаимодействия возможных участников системы (согласно диаграмме прецедентов). Пользователь ИС имеет возможность просматривать информацию о произведениях, после проведения экспертной оценки и в случае нахождения спорных данных пользователь-филолог отправляет запрос на доступ к редактированию или информирует администратора БД о результатах экспертной оценки и решении об изменении данных. Администратор БД проверяет экспортируемые данные от внешних систем, которые проводят анализ поэтических текстов на технические ошибки (в случае если внешняя система получила ошибки при результате анализа).
Программист-исследователь будет иметь возможность с помощью API организовать пакетную выгрузку данных о проанализированных поэтических текстах. Поскольку текущий функционал отражен в требованиях к системе как «требование с низким приоритетом», работа над API находится на стадии проектирования.
Внешние системы (подсистемы) с помощью заранее установленных протоколов взаимодействия загружают результаты анализа лирических произведений, полученные при работе отдельных алгоритмов (в том числе из подсистемы, описанной в [2]). В перспективе разрабатывается вариант взаимодействия, при котором подсистемы в качестве входных параметров используют данные описываемой информационной системы. Основная часть ИС реализована в виде базы данных, хранящей в себе как сами стихотворения, так и их характеристики. Концептуальная ER-модель системы показана на рис. 5.
Для стандартизации описания метаданных использовался ГОСТ Р 7.0.10-2010, опирающийся на набор элементов «Дублинского ядра»
 – норматива для общесистемного описания информационных ресурсов.
Сущность POEMS включает в себя:
1) фонетические характеристики (сущность PHONETICS), на основании которых определяются метроритмические характеристики (сущность MRSTATISTICS); последняя, в свою очередь, включает в себя метаданные, приведенные на рис. 2;
2) словарь слов (сущность DICTIONARY) связан с сущностями «словосочетания» (COLLOCATIONS), которые извлекаются из текста; ключевыми метаданными сущности COLLOCATIONS являются статистика упоминания в произведении (PoemStatistics) и у данного автора (AuthorStatistics) вообще.;
3) характеристики высокого уровня (сущность HIGH LEVEL CHARACTERISTICS) включают в себя данные о жанре (GENRE) и стиле (STYLE);
4) другие характеристики (сущность OTHERS) являются вспомогательными и служат для хранения разнородной внешней информации о произведениях, например источник (Source), сведения об издании (Publisher) и др.
Для организации доступа к ИС был спроектирован и разработан интерфейс пользователя (рис. 6), доступный через веб-браузер клиента. Запросы к базе данных организованы в формате SQL, что повышает универсальность использования системы. Интерфейс ИС доступен по адресу: http://db4.sbras.ru/~poems_user/IS. При тестовой реализации системы в качестве экспериментального корпуса текстов было решено использовать цикл лирических произведений А. С. Пушкина, написанных в 1830 г., в так называемую «Болдинскую осень».
Выбирая доступные произведения автора (меню слева), пользователь получает возможность просмотреть само произведение и ознакомиться с его характеристиками. Для некоторых произведений приведена ссылка на рукописный оригинал – использовались ресурсы Института русской литературы 10 (ИРЛИ) РАН. Дополнительное окно словосочетаний открывается при нажатии на одноименную ссылку в режиме просмотра произведения: пользователь имеет возможность просмотреть выделенные словосочетания и сочетания слов и при наличии соответствующих прав доступа изменить их (после проведения экспертной оценки).
Реализована функциональность сравнения нескольких произведений – пользователь выбирает необходимые для анализа произведения: для просмотра отображается сводная таблица произведений с ключевыми характеристиками.

Заключение

Таким образом, в результате выполнения работы осуществлено проектирование и реализация информационной системы, осуществляющей интеграцию созданных ранее в ИВТ СО РАН модулей, предназначенных для решения отдельных задач комплексного анализа поэтических текстов. Разработан прототип информационной системы. С помощью диаграммы прецедентов показано, какие действия может выполнять каждый участник системы. Реализован графический интерфейс информационной системы. Результаты работы показали принципиальную возможность интеграции упомянутых выше компонентов системы, что открывает перспективы создания весьма востребованного филологами инструментария автоматизации комплексного анализа поэтических текстов на русском языке.